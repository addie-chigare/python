<!DOCTYPE html>
<html>
<head>
    <title>User Login</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="static/sign.css">
    <script>
        function isString(evt) {
            var iKeyCode = (evt.which) ? evt.which : evt.keyCode;
            if ((iKeyCode < 65 || iKeyCode > 90) && (iKeyCode < 97 || iKeyCode > 122) && iKeyCode != 32 && iKeyCode != 8) return false;
            return true;
        }

        function validatePassword() {
            const password = document.querySelector('input[name="password"]').value;
            const passwordPattern = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;

            if (!passwordPattern.test(password)) {
                alert("Password must be at least 8 characters long, contain at least one uppercase letter, one number, and one special character.");
                return false; // Prevent form submission
            }
            return true; // Allow form submission
        }
    </script>
</head>
<body>

<div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-4">
        <div class="container">
            <form action="{{ url_for('login') }}" method="post" onsubmit="return validatePassword()">
                <center>
                    <h1>Login Page</h1>
                </center>
                <div class="row">
                    <div class="col-sm-12">
                        <label>Username</label>
                        <input type="email" name="email" placeholder="Username" class="form-control" required onkeypress="return isString(event)">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-sm-12">
                        <label>Password</label>
                        <input type="password" name="password" placeholder="Password" class="form-control" required>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-sm-12">
                        <input type="submit" value="LOGIN" class="btn btn-primary form-control">
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-sm-12">
                        <p style="text-align: center;">
                            Not registered? <a href="{{ url_for('signup') }}" style="color: #00e673">Create an account</a><br>
                            <a href="{{ url_for('forgot_password') }}" style="color: #00e673">Forgot Password?</a>
                        </p>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="col-sm-4"></div>
</div>

</body>
</html>
